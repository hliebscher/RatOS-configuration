# based on the following stepper connections - from left to right:
# X Y E Z Z1 Z2
# In the wiring diagram, the Z-steppers are called Z1 / Left Z, Z2 / Rear Z, Z3 / Right Z, here they're mapped to z, z1, z2 respectively.
#[stepper_x]
#dir_pin: x_dir_pin # Add ! in front of pin name to reverse X stepper direction
#rotation_distance: 40 # 40 for 20 tooth 2GT pulleys, 32 for 16 tooth 2GT pulleys
#position_endstop: 0 # Adjust this to your setup

#[stepper_y]
#dir_pin: y_dir_pin # Add ! in front of pin name to reverse Y stepper direction
#rotation_distance: 40 # 40 for 20 tooth 2GT pulleys, 32 for 16 tooth 2GT pulleys
#position_endstop: 300  # 300mm printer
#position_endstop: 400 # 400mm printer
#position_endstop: 500 # 500mm printer

#[stepper_z]
#dir_pin: !z0_dir_pin # Add ! in front of pin name to reverse Z stepper direction
#rotation_distance: 4 # 4 for TR8*4 lead screws

#[stepper_z1]
#dir_pin: !z1_dir_pin # Add ! in front of pin name to reverse Z1 direction
#rotation_distance: 4 # 4 for TR8*4 lead screws

#[stepper_z2]
#dir_pin: !z2_dir_pin # Add ! in front of pin name to reverse Z2 direction
#rotation_distance: 4 # 4 for TR8*4 lead screws


#############################################
### STEPPER X
#############################################
[stepper_x]
step_pin: x_step_pin
enable_pin: !x_enable_pin
rotation_distance: 40
microsteps: 16
homing_speed: 50
homing_retract_dist: 0
endstop_pin: tmc5160_stepper_x: virtual_endstop
position_min: -12
position_endstop: -12

[tmc5160 stepper_x]
cs_pin: x_cs_pin
diag1_pin: ^!x_diag1_pin
sense_resistor: 0.075
interpolate: True
run_current: 1.1
hold_current: 0.500
stealthchop_threshold: 1
driver_SGT: 1
spi_bus: spi3a

#############################################
### STEPPER Y
#############################################

[stepper_y]
step_pin: y_step_pin
enable_pin: !y_enable_pin
rotation_distance: 40
microsteps: 16
homing_speed: 50
homing_retract_dist: 0
endstop_pin: tmc5160_stepper_y: virtual_endstop
homing_speed: 50
position_min: -12
position_endstop: -5

[tmc5160 stepper_y]
cs_pin: y_cs_pin
diag1_pin: ^!y_diag1_pin
sense_resistor: 0.075
interpolate: True
run_current: 1.1
hold_current: 0.5
stealthchop_threshold: 1
driver_SGT: 1
spi_bus: spi3a



#############################################
### STEPPER Z
#############################################
[stepper_z]
endstop_pin: probe:z_virtual_endstop
step_pin: z0_step_pin
enable_pin: !z0_enable_pin
rotation_distance: 4
microsteps: 16
position_min: -5 # Needed for z-offset calibration and tilt_adjust.
#homing_speed: 10
#position_endstop: 0.5 #do not define if using BLTouch
homing_speed: 3

[tmc5160 stepper_z]
cs_pin: z0_cs_pin
#diag1_pin: ^!PG8
sense_resistor: 0.075
interpolate: True
run_current: 1.0
hold_current: 0.500
stealthchop_threshold: 1
#driver_SGT: 2
spi_bus: spi3a

[stepper_z1]
step_pin: z1_step_pin
enable_pin: !z1_enable_pin
rotation_distance: 4
microsteps: 16

[tmc5160 stepper_z1]
cs_pin: z1_cs_pin
#diag1_pin: ^!PG8
sense_resistor: 0.075
interpolate: True
run_current: 1.1
hold_current: 0.500
stealthchop_threshold: 1
#driver_SGT: 2
spi_bus: spi3a

[stepper_z2]
step_pin: z2_step_pin
enable_pin: !z2_enable_pin
rotation_distance: 4
microsteps: 16

[tmc5160 stepper_z2]
cs_pin: z2_cs_pin
#diag1_pin: ^!PG8
sense_resistor: 0.075
interpolate: True
run_current: 1.0
hold_current: 0.500
stealthchop_threshold: 1
#driver_SGT: 2
spi_bus: spi3a

#############################################
### EXTRUDER at SKR 1.2
#############################################
#[extruder]
#step_pin: e_step_pin
#enable_pin: !e_enable_pin
#microsteps: 16


#[tmc5160 extruder]
#cs_pin: e_cs_pin
#diag1_pin: ^!PE15
#sense_resistor: 0.075
#interpolate: True
#run_current: 1.1
#hold_current: 0.500
#stealthchop_threshold: 1
#driver_SGT: 2
#spi_bus: spi3a

